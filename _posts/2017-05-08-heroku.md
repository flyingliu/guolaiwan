---
layout: default
title: 发布一个heroku项目。
tags: [gulp]
---

1.新建一个`Procfile`文件，存放启动命令：如

    web: node app.js --production

--production 为环境标示

2.设置监听端口：

    var port = process.env.PORT || 3000;

`process.env.PORT`,必须要这样写哦。

3.设置区分环境 set process.env.NODE_ENV = product

4. 在package.json 文件中设置nodejs引擎 
    "engines": {
        "node": "^6.9.5",
        "npm": "^3.10.10"
    },

5. 登录heroku。

    heroku login

6. 创建一个heroku 项目。这是会发现在git中添加了远程仓库地址。

7. 发布到远程仓库。

    git push heroku master

8. 指定一个服务器
    
    heroku ps:scale web=1
    

